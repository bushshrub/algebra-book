\documentclass[./main.tex]{subfiles}


\begin{document}
One of the central problems in group theory is to understand the structure of a
group by understanding the structure of its subgroups. Of course, this is a very
difficult question to answer. Given a group $G$, how can we possibly hope to
find all of its subgroups? Admittedly, we only have to check a finite number of
sets, namely elements of $\mc P(G)$. We can even dispose of a bunch of sets
quite fast (any sets not containing the identity). But that's still a lot! Can
we narrow our search more? 

We do have a sufficient condition for something to be a subgroup, namely, the
definition. But that doesn't help us much, since we would still need to manually
check whether something is a subgroup. What about a necessary condition? Do
subgroups have any properties that they must satisfy? Turning our attention
temporarily to cyclic groups, we notice that the subgroups of all cyclic groups
have orders the divisor of the order of the whole group. So the orders of
subgroups of cyclic groups divides the order of the group. Is this true in
general? 

The answer to this question is yes. Lagrange's Theorem tells us that the order
of a subgroup must divide the order of a group. Of course, this only holds for
finite groups. 

How should we prove something like this? Let $G$ be a finite group and let $H$
be a subgroup of $G$. If we can somehow bundle together the elements of a group
into piles of $\abs{H}$, the result should follow. But what is the correct way
to bundle them? To find out how to do so, let us look at some examples.

Let $G = \bZ_{10}$. We know all the subgroups of $G$, since $G$ is cyclic. Let
us consider the subgroup of $G$ that consists of all the even numbers. Now, we
know that there are just as many odd numbers. Indeed, if $H = \set{0,2,4,6,8}$,
then the odd numbers would be $\set{1,3,5,7,9}$. Now, notice that if we take
each element of $H$ and add 1 to it, i.e. $1 + H$, we would arrive at the set of
odd numbers. It also appears that $1 + H$ is disjoint from $H$. Motivated by
this example, we turn our attention to the subgroup $H = \set{0,5}$. In a
similar fashion, we can consider $1 + H = \set{1, 6}$, $2+H = \set{2,7}$ as well
as $3+H, 4+H$. What is $5+H$? It appears that $5+H$ is just $H$, and $6+H$ is
just $1+H$. So it appears that if $h \in H$, then $h+H = H$. Another interesting
observation we can make is that $g + H$ and $g'+H$ appear to be either equal to
each other, or disjoint. 

We summarize our observations: 

\begin{enumerate}
    \item The sets of the form $g + H$ seem to all have the same size 
    \item We either have $g+H = g'+H$ or they are disjoint
\end{enumerate}

At this point, these are all conjectural. So let us now make this precise.

\begin{definition}[Coset]
\label{def:coset}
Let $G$ be a group and let $H$ be a subgroup of $G$. A (left) coset of $H$,
denoted $gH$ is the set 
\[
    gH = \set{gh: h \in H}.
\]
\end{definition}

Why are cosets important? It turns out that cosets form a partition of $G$, and
that the size of a coset is precisely the size of the subgroup $H$. 

Recall that an equivalence relation $\sim$ on $G$ is a relation that is
reflexive, symmetric and transitive. Equivalence relations give rise to
partitions. If $\sim$ is an equivalence relation on $G$ and $g \in G$, then the
set 
\[
    [g]_\sim = \set{a \in G: a \sim g}
\]
denotes the equivalence class of $g$ under $\sim$. If the equivalence
relation is clear, we shall simply write $[g]$.
\begin{proposition}[Coset is an equivalence relation]
\label{prop:coset-equiv-relation}
    Let $G$ be a finite group and $H$ a subgroup of $G$. Define the equivalence
    relation $\sim$ on $G$ by $a \sim b$ if and only if $a\inv b \in H$. Then,
    $\sim$ is an equivalence relation and $aH = [a]$, where $[a]$ is the
    equivalence class of $a$ under $\sim$.
\end{proposition}
\begin{proof}
    Exercise.
\end{proof}
\begin{exercise}
    Prove \cref{prop:coset-equiv-relation}.
\end{exercise}

\begin{theorem}[Properties of cosets]
\label{thm:properties-of-cosets}
    Let $G$ be a finite group and let $H$ be a subgroup of $G$. Then, the following are true.

    \begin{enumerate}
        \item $a \in aH$.
        \item $aH = H$ if and only if $a \in H$.
        \item $aH = bH$ if and only if $a\inv b \in H$.
        \item $aH = Ha$ if and only if $aHa\inv = H$.
        \item $\abs{aH} = \abs{bH}$. In other words, different cosets have the same size.
        \item $aH$ is a subgroup if and only if $a \in H$.
    \end{enumerate}
\end{theorem}
\begin{proof}
    \begin{enumerate}
        \item Notice $a = ae \in aH$.
        \item This follows from \cref{prop:coset-equiv-relation}.
        \item Follows from 2.
        \item Exercise. 
        \item Define a bijection from $aH$ to $bH$ by sending $x \in aH$ to $ba\inv x$.
        \item Use 2 and 3.
    \end{enumerate}
\end{proof}
\begin{exercise}
    Fill in the details of the proof of \cref{thm:properties-of-cosets}.
\end{exercise}

Now, take a good look at property number 5 of \cref{thm:properties-of-cosets}.
This is the key idea here. It tells us that the equivalence classes of the coset
relation all have the same size. We are now ready to prove Lagrange's Theorem. With
the coset equivalence relation, we cut up $G$ into pieces of size $\abs{H}$. 
\begin{theorem}[Lagrange's Theorem]
\label{thm:lagrange-theorem}
    Let $G$ be a finite group of order $n$. Let $H$ be a subgroup of $G$. Then,
    $\abs{H}$ divides $n$.
\end{theorem}
\begin{proof}
    Exercise.
\end{proof}
\begin{exercise}
    Prove \cref{thm:lagrange-theorem}
\end{exercise}

One thing you may have noticed is that the proof of Lagrange's Theorem was
rather trivial. How does such a powerful theorem have such a trivial proof? 
The key answer lies in how the definitions were formulated.

We now state some corollaries of Lagrange's Theorem. While obvious, they are
still good to mention.
\begin{corollary}[Consequences of Lagrange's Theorem]
\label{cor:consequences-of-lagrange}
    Let $G$ be a finite group. Then, the following are true.
    \begin{enumerate}
        \item If $g \in G$, $\abs{g}$ divides $\abs{G}$.
        \item If $G$ has prime order then it is cyclic.
        \item If $g \in G$, then $g^{\abs G} = e$.
    \end{enumerate}
\end{corollary}
\begin{exercise}
    Prove \cref{cor:consequences-of-lagrange}.
\end{exercise}

Let us now see an application of Lagrange's Theorem.

\begin{corollary}[Fermat's Little Theorem]
\label{cor:fermat-little-theorem}
    Let $p$ be a prime, and let $a$ be an integer. Then, $a^p \operatorname{mod}
    p = a \operatorname{mod} p$.  
\end{corollary}
\begin{proof}
    To do this, we study the behavior of an element of $U(p)$. Recall that $U(p)
    = \set{1, \dots, p-1}$, which has order $p-1$. If $a \in U(p)$, we would
    have $a^{\abs{U(p)}} = 1$, so $a^p = a$. If $a$ is not in $U(p)$, then use
    the division algorithm on $a$.
\end{proof}
\begin{exercise}
    Fill in the details of \cref{cor:fermat-little-theorem}.
\end{exercise}

\end{document}